(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{392:function(s,a,e){"use strict";e.r(a);var t=e(4),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"mysql基础"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql基础"}},[s._v("#")]),s._v(" MySql基础")]),s._v(" "),e("blockquote",[e("p",[s._v("MySql它与webSql一样，都是一个数据库，webSql只存在于浏览器，而MySql是服务器"),e("strong",[s._v("关系型数据库")]),s._v("，可以多人同时连接。MySql它是国外的oracle公司开发的一款数据库软件，软件小功能强，在小中型项目里面使用非常多")]),s._v(" "),e("p",[s._v("我们之前要操作webSql的数据库，我们要习一种操作语言，这种语言叫SQL语句（结构化查询语名），今天我们学习MySQL它也是使用Sql主句来操作")])]),s._v(" "),e("p",[s._v("在学习SQL语句的当中，SQL语句分三大类SQL语句")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("DDL数据库定义语句（Database Define Language）")]),s._v(" "),e("p",[s._v("数据库定义语言，它涉及到关键字有"),e("code",[s._v("create")]),s._v(","),e("code",[s._v("drop")]),s._v(","),e("code",[s._v("change")]),s._v(","),e("code",[s._v("alter")]),s._v(","),e("code",[s._v("modify")]),s._v("等这些。数据库定义语言只操作数据库的结构，不操作数据库里面的数据")])]),s._v(" "),e("li",[e("p",[s._v("DML 数据库操作语言（Database Manipulation Language）")]),s._v(" "),e("p",[s._v("数据库操作语言主要指四个大关键字"),e("code",[s._v("select")]),s._v(","),e("code",[s._v("update")]),s._v(","),e("code",[s._v("delete")]),s._v(","),e("code",[s._v("insert")]),s._v("这种类型的SQL语句，它只操作数据库当中的数据，不对数据库的结构进行操作")])]),s._v(" "),e("li",[e("p",[s._v("DCL数据库控制语言")]),s._v(" "),e("p",[s._v("对数据库的权限分析，备份以及还原等进行操作")])])]),s._v(" "),e("h3",{attrs:{id:"dos命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dos命令"}},[s._v("#")]),s._v(" DOS命令")]),s._v(" "),e("p",[s._v("在计算机里面DOS里操作计算机的内部指令，我们可以在CMD的窗口里面操作命令")]),s._v(" "),e("p",[e("img",{attrs:{src:"/assets/1569574450488.png",alt:"1569574450488"}})]),s._v(" "),e("p",[s._v("目前我们所学习的DOS有")]),s._v(" "),e("ol",[e("li",[e("code",[s._v("cd")]),s._v("切换目录 ，"),e("code",[s._v("cd ..")]),s._v("切换到上及目录,"),e("code",[s._v("cd software")]),s._v("切换到software的目录了")]),s._v(" "),e("li",[e("code",[s._v("ipconfig")]),s._v(" 用于查询计算机的IP地址")]),s._v(" "),e("li",[e("code",[s._v("mysql -uroot -p")]),s._v("连接数据库的DOS命令")])]),s._v(" "),e("p",[s._v("在开发文档里面，如果这条命令是DOS计算机操作命令，都会以"),e("code",[s._v("$")]),s._v("  来表示，所以如果看到"),e("code",[s._v("$ ipconfig")]),s._v(",在执行命令的过程当中，就不要这个"),e("code",[s._v("$")]),s._v("符了")]),s._v(" "),e("p",[e("strong",[s._v("注意：DOS命令不要与SQL语句弄混")]),s._v("，"),e("font",{attrs:{color:"red"}},[s._v("SQL语句只是在服务器执行的脚本，它的窗口虽然也在"),e("code",[s._v("cmd")]),s._v("里面，但是是不一样的")])],1),s._v(" "),e("p",[e("img",{attrs:{src:"/assets/1569574786211.png",alt:"1569574786211"}})]),s._v(" "),e("p",[s._v("这个时候，我们会看到它是有"),e("code",[s._v("mysql>")]),s._v("开头的，这个时候，在这个窗口里面，就不能执行DOS命令，只能执行SQL语句")]),s._v(" "),e("h3",{attrs:{id:"ddl类型sql语句学习"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ddl类型sql语句学习"}},[s._v("#")]),s._v(" DDL类型SQL语句学习")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("连接数据库（命令）")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ mysql -h "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 -u root -p\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("-h代表host表示连接的服务器地址 "),e("strong",[s._v("127.0.0.1代表的是本机")])]),s._v(" "),e("p",[s._v("-u代表user表示用户名，mysql默认用户名为root")]),s._v(" "),e("p",[s._v("-p代表使用密码连接")])]),s._v(" "),e("p",[s._v("当我们连接上数据库服务器以后就可以进行后面的操作了（只要没有退出服务器就可以一直操作）")])]),s._v(" "),e("li",[e("p",[s._v("修改MySql服务器密码（命令）")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ mysqladmin -uroot -p原始密码  password 新密码\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("显示服务器数据库列表")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("show databases;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("一条SQL语句执行完毕以后要打上分号"),e("code",[s._v(";")]),s._v("如果你想结束之前输入的命令，也分号"),e("code",[s._v(";")])])])]),s._v(" "),e("li",[e("p",[s._v("创建数据库")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create database h1904;\ncreate database 数据库名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("删除数据库")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("drop database 数据库名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("切换数据库")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("use 数据库名;\nuse h1904;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("显示当前数据库下面的所有数据表")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("show tables;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("创建数据库")]),s._v(" "),e("p",[s._v("在创建数据表之前要弄清楚一定需要创建多少列，每一列的数据类型是什么，以及数据表的名称是什么")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create table if not exists stulist(\nsid varchar(12) not null,\nsname varchar(20) not null,\nssex varchar(2) not null,\nsage int\n)engine=innodb default charset=utf8\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("blockquote",[e("p",[s._v("create table创建表")]),s._v(" "),e("p",[s._v("if not exists stulist如果不存在stulist")]),s._v(" "),e("p",[s._v("varchar(12)变成字符串,int整数")]),s._v(" "),e("p",[s._v("not null不为空，你插入数据的时候，必须要放值进去")]),s._v(" "),e("p",[s._v("engine=innodb,服务器存储引擎")]),s._v(" "),e("p",[s._v("default charset=utf8  将字符编码设置为utf-8")])])]),s._v(" "),e("li",[e("p",[s._v("显示数据表中所有列的信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("show columns from 表名;\nshow columns from stulist;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("显示数据表中所有列的信息2")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("desc 表名;\ndesc stulist;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("删除数据表")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("drop table 表名;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("删除数据表中的某一列")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 drop column 列名;\nalter table stulist drop column sage;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("在数据表中新增列")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 add column 列名 数据类型 描述信息;\nalter table stulist add column sage int not null;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("在数据表中修改列的"),e("strong",[s._v("属性")]),s._v("，例如将"),e("code",[s._v("sage")]),s._v("这一列由 "),e("code",[s._v("int")]),s._v("改为"),e("code",[s._v("varchar(20)")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 modify 列名 新数据类型 新描述信息\nalter table stulist modify sage varchar(20) not null;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("修改数据表中某一列的名称，如将"),e("code",[s._v("ssex")]),s._v("改为"),e("code",[s._v("s_sex")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 change 原列名 新列名 数据类型 描述信息;\nalter table stulist change ssex s_sex varchar(2) not null;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("p",[e("strong",[s._v("注意")]),s._v("： 修改列的时候要注意分为两种情况，第一种是修改列的属性我们使用"),e("code",[s._v("modify")]),s._v("，第二种是修改列的名称我们使用"),e("code",[s._v("change")]),s._v("，它们的语法格式不一样")]),s._v(" "),e("ol",{attrs:{start:"15"}},[e("li",[e("p",[s._v("修改数据表名,如把数据表stulist改为stu_list")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 原名称 rename 新表名;\nalter table stulist rename stu_list;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("表中的列的值的唯一约束")]),s._v(" "),e("p",[s._v("什么是唯一约束？")]),s._v(" "),e("p",[s._v("在向数据表中插入值的时候，如果你希望某一列的值不能重复，这个时候我们就需对这一列做一个特殊的处理。这个特殊的处理我们叫唯一约束")]),s._v(" "),e("p",[s._v("唯一约束可以插入空值"),e("code",[s._v("null")])]),s._v(" "),e("p",[s._v("现在我们希望把数据表stulist当中的sid这一列加上一个唯一约束，让学号不重复")]),s._v(" "),e("p",[e("strong",[s._v("第一种情况：直接在某一列上面修改")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table stulist modify sid varchar(12) unique;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[e("code",[s._v("unique")]),s._v("关键字代表唯一，但是它可以设置空值")])]),s._v(" "),e("p",[e("strong",[s._v("第二种情况：在创建表的时候就直接设置好")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create table if not exists stulist(\nsid varchar(20) unique,\nsname varchar(20) not null,\nssex varchar(2) not null,\nsage int\n)engine=innodb default charset=utf8;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("在创建表的时候，我们可以一次性直接创建好，这样sid它就是一个唯一约束")])]),s._v(" "),e("li",[e("p",[s._v("设置数据库的主键")]),s._v(" "),e("p",[s._v("数据库的主键是唯一 项，但是又不能为空，它在数据库当中的标识是"),e("code",[s._v("PRI")]),s._v(",而唯一约束的标识是"),e("code",[s._v("UNI")]),s._v(",当数据表中的某一列被设置为唯一约束的同时又不允许为空的时候，这一列自动标记为主键列")]),s._v(" "),e("p",[s._v("当一个数据表当中存在主键以后，我们在操作数据的时候非常方便，可以快速的去定位到这条数据信息。定位到这条数据信息以后就可以快速操作")]),s._v(" "),e("p",[e("strong",[s._v("第一种方式设置主键")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table stulist modify sid varchar(20) not null unique;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("这一种方式是真设置为不为空以后，再设置唯一约束")]),s._v(" "),e("p",[s._v("当一个主键是以一种像这样的方式去设置的时候，就不能够使用 "),e("code",[s._v("alter table stulist drop primary key")]),s._v(";如果使用就会报错")])]),s._v(" "),e("p",[e("strong",[s._v("第二种方式设置主键")])]),s._v(" "),e("p",[s._v("在创建数据表的时候，直接设置为主键，在某一列的后面添加 "),e("code",[s._v("primary key")]),s._v(";")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create table if not exists stulist(\nsid varchar(20) primary key,\nsname varchar(20) not null,\nssex varchar(2) not null,\nsage int\n)engine = innodb default charset =utf8;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[e("strong",[s._v("第三种方式设置主键")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 add primary key(列名);\nalter table stulist add primary key(sid);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("一般情况下在设计数据库的过程当中不推荐使用联合主键（多主键），但是如果非要使用多个主键也是可以的")]),s._v(" "),e("p",[e("strong",[s._v("第四种方式设置多个主键")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 add primary key(列名1,列名2...);\nalter table stulist add primary key(sid,sname);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("删除数据库主键")]),s._v(" "),e("p",[s._v("如果某一列之前标记为主键列，现在不希望它是主键列了，这个时候，我们可以使用如下方法去设置这个主键标识")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table 表名 drop primary key;\nalter table stulist drop primary key;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("设置某一列的默认值")]),s._v(" "),e("p",[s._v("当我们在插入数据的时候，如果希望某一列默认有一个值，这个时候就需要有一个默认值的描述信息")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("alter table stulist modify ssex varchar(2) not null default '女';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("创建外键")]),s._v(" "),e("p",[s._v("什么是外键？一个表的某一列数据受另一张表的主键去约束，那么我们就把这一列叫外键列（它会构成一个主外键约束）")]),s._v(" "),e("p",[e("img",{attrs:{src:"/assets/1569566459579.png",alt:"1569566459579"}})])])]),s._v(" "),e("p",[s._v("在上在的图片，《学生信息表》的班级这一列受到另一张表《班级信息表》的班级编号这一列影响")]),s._v(" "),e("p",[s._v("现在我们尝试将上面的两个表创建出来以后进行主外键关联")]),s._v(" "),e("p",[e("strong",[s._v("创建第一个表classinfo")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" create table if not exists classinfo(\n cid varchar(12) primary key,\n tname varchar(20) not null,\n classroom varchar(20) not null\n )engine=innodb default charset=utf8;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[e("strong",[s._v("创建第二个表stuinfo")])]),s._v(" "),e("p",[s._v("在第二个表里面，我们的cid这一列要与另一个表的cid构成主外键关联")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create table if not exists stuinfo(\nsid varchar(12) primary key,\nsname varchar(12) not null,\nssex varchar(2) not null,\ncid varchar(12) not null,\nforeign key(cid) references classinfo(cid)\n)engine = innodb default charset = utf8;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[e("strong",[s._v("注意事项")]),s._v("：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("主外键的两个列它们的列名称可以不一样，但是数据类型 与数据长度必须一致，在刚刚的学生信息表"),e("code",[s._v("classinfo")]),s._v("里面，我们的列"),e("code",[s._v("cid")]),s._v("它的数据类型是"),e("code",[s._v("varchar(12)")]),s._v("那么，"),e("code",[s._v("stuinfo")]),s._v("表里面的数据类型"),e("code",[s._v("cid")]),s._v("外键列也必须是"),e("code",[s._v("varchar(12)")])]),s._v(" "),e("p",[s._v("当我们构成主外键关系以后，这个时候请同学们注意，先添加主键表的数据，再添加外键表的数据")])]),s._v(" "),e("li",[e("p",[s._v("当两个表一旦构成主外键关系以后，这个时候，我们再去删除主键表就要注意，我们要保证这个组件没有被别人使用，否则是不能删除的")])]),s._v(" "),e("li",[e("p",[s._v("在navicat的工具里面，我们可以在"),e("code",[s._v("ER图")]),s._v("上速的构造主外键关系")])]),s._v(" "),e("li",[e("p",[s._v("如果在构造主外键关系的时候，原来的表已经有数据的情况之下，可能会报错，报错的原因只有可能是这一列有些数据在主键表里面不存在")])])]),s._v(" "),e("ol",{attrs:{start:"21"}},[e("li",[e("p",[s._v("数据库备份 (DOS命令)")]),s._v(" "),e("p",[s._v("在平常的工作当中，我们经常会使用数据库进行份备，希望把数据库备份下来，我们可以通过命令把数据库备份成文件，"),e("strong",[s._v("它需要通过DOS命令")]),s._v(" 直接在CMD里面执行")])])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[s._v("```bash\n$ mysqldump -h主机地址 -u用户名 -p密码 数据库名 > 保存的路径名\n$ mysqldump -h127.0.0.1 -uroot -p123456 h1904 > c:\\h1904.sql\n```\n\n> DOS命令是没有分号\n>\n> 当执行上面的命令成功以后，我们就可以在指定的位置看到导出的备份文件\n")])])]),e("ol",{attrs:{start:"22"}},[e("li",[e("p",[s._v("数据库还原")]),s._v(" "),e("p",[s._v("如果希望去还原一个数据库，则首先需要有一个备份文件")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("先连接到数据库（命令）")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ mysql -h127.0.0.1 -uroot -p\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("连接到数据库服务器以后，创建一个数据库")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create database h1904\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("切换到刚刚创建的数据库下面去")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("use h1904;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("导入SQL脚本文件")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("source c:/h1904.sql\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("注意")]),s._v("：这里的斜线是正斜线")])])])]),s._v(" "),e("li",[e("p",[s._v("序号自增长")]),s._v(" "),e("p",[s._v("当我们在设置数据表的时候，如果希望某一个产生一个序号，让它自动增长，这个时候，可以给一个描述信息"),e("code",[s._v("auto_increment")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("create table if not exists test(\n\tid INT PRIMARY KEY auto_increment,\n\tuserName varchar(20) not null,\n\ttel VARCHAR(20) not null,\n\temail varchar(20) not null\n)ENGINE = INNODB default charset=utf8;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("当我们向数据表里面插入数据的时候，前面的id这一列会自动生成数字，它会自动增长")])])]),s._v(" "),e("hr"),s._v(" "),e("h3",{attrs:{id:"mysql乱码处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql乱码处理"}},[s._v("#")]),s._v(" MySQL乱码处理")]),s._v(" "),e("p",[s._v("在MySQL出现中文乱码非常正常，因为中文的编码有很多，常用的就有"),e("code",[s._v("utf-8")]),s._v(","),e("code",[s._v("gbk")]),s._v(","),e("code",[s._v("gb2312")]),s._v(",我们在设置数据库的时候经常都是设置为"),e("code",[s._v("utf-8")]),s._v(",当你操作数据库的客户端如果不是这个格式的时候，就会造成中文乱码")]),s._v(" "),e("p",[s._v("当出现中文乱码以后，我们要排查")]),s._v(" "),e("p",[e("strong",[s._v("第一步：先在mysql里面输入如下SQL语句")])]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("show variables like '%char%';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("先查询mysql数据库设置当中与字符集"),e("code",[s._v("char")]),s._v("相关的设置")]),s._v(" "),e("p",[e("img",{attrs:{src:"/assets/1569569048821.png",alt:"1569569048821"}})]),s._v(" "),e("p",[s._v("其中能够引起我们显示乱码有三个部分")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("character_set_client"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#连接的客户端")]),s._v("\ncharacter_set_connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库的连接")]),s._v("\ncharacter_set_results"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#执行sql语句以后显示的结果")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("strong",[s._v("第二步：更改字符编码")])]),s._v(" "),e("p",[s._v("如果要防止乱码我们需要去设置上面的的三个东西的字符集，这个三个字符集一定要与操作工具一样，每个操作系统的每个操作工具都不一样（ windows有DOS窗口，linux的命令控制台，Mac苹果电脑也有控制台），我们现在有window的DOM窗体为例")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("set character_set_client=gbk;  \nset character_set_connection=gbk;\nset character_set_results=gbk; \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("这三样东西仅仅只是设置当前这一次，一旦断开数据库连接又要重设置，这样会显得很麻烦 ，所以mysql里面有一个命令快速的去设置这三个字符集")]),s._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("set names 字符集;\nset names utf8;\nset names gbk;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);